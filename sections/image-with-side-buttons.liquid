{% comment %}
Section: Image with Side Buttons
Settings:
- Image picker for the left hero image
- Blocks for side buttons (label + url)
Styling is kept inline so this section is self-contained and matches the provided design.
{% endcomment %}

<div class="image-side-buttons-section" data-section-id="{{ section.id }}">
  <style>
    .isb-wrap {
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: 28px;
      align-items: center;
      margin: 20px 32px
    }

    .isb-image {
      width: 100%;
      border-radius: 14px;
      overflow: hidden;
      min-height: 320px;
      box-shadow: none;
    }

    .isb-image img { display:block; width:100%; height:604px; object-fit:cover; object-position:bottom; }

    .isb-buttons {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .isb-button a {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 106px;
      padding: 0 28px;
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);
      text-decoration: none;
      color: #111111;
      font-size: 16px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 3px;
    }

    /* Smaller buttons for shorter layouts */
    .isb-button a .label { display:block; }

    @media (max-width: 900px) {
      .isb-wrap { 
        display: flex;
        flex-direction: column;
        margin: 20px 16px;
        gap: 20px;
      }
      .isb-buttons { 
        flex-direction: column; 
        gap: 12px; 
        width: 100%;
      }
      .isb-image img{
        height: 240px;
      }
      .isb-button a { height: 56px; flex:1; font-size:14px; letter-spacing:2px; }
      .isb-image { min-height:200px; }
    }
  </style>

  <div class="isb-wrap">
    <div class="isb-image">
      {% if section.settings.hero_image != blank %}
        {{ section.settings.hero_image | image_url: width: 2048 | image_tag: alt: section.settings.image_alt, loading: 'lazy' }}
      {% endif %}
    </div>

    <div class="isb-buttons">
      {% if section.blocks.size > 0 %}
        {% for block in section.blocks %}
          <div id="block-{{ block.id }}" class="isb-button">
            {% if block.settings.link != blank %}
              <a href="{{ block.settings.link }}">
                <span class="label">{{ block.settings.label }}</span>
              </a>
            {% else %}
              <a href="#">
                <span class="label">{{ block.settings.label }}</span>
              </a>
            {% endif %}
          </div>
        {% endfor %}
      {% else %}
        <!-- Fallback buttons if none added in customizer -->
        <div class="isb-button"><a href="#">Book an appointment</a></div>
        <div class="isb-button"><a href="#">Contact us</a></div>
        <div class="isb-button"><a href="#">Request quote</a></div>
      {% endif %}
    </div>
  </div>

  {% schema %}
  {
    "name": "Image with Side Buttons",
    "settings": [
      {
        "type": "image_picker",
        "id": "hero_image",
        "label": "Hero image"
      },
      {
        "type": "text",
        "id": "image_alt",
        "label": "Image alt text",
        "default": "Hero image"
      }
    ],
    "blocks": [
      {
        "type": "side_button",
        "name": "Side button",
        "settings": [
          { "type": "text", "id": "label", "label": "Label", "default": "Button" },
          { "type": "url", "id": "link", "label": "Link (URL)" }
        ]
      }
    ],
    "max_blocks": 6,
    "presets": [
      {
        "name": "Image with side buttons",
        "category": "Hero",
        "blocks": [
          { "type": "side_button", "settings": { "label": "Book an appointment", "link": "#" } },
          { "type": "side_button", "settings": { "label": "Contact us", "link": "#" } },
          { "type": "side_button", "settings": { "label": "Request quote", "link": "#" } }
        ]
      }
    ]
  }
  {% endschema %}

</div>
