{% comment %}Showroom showcase section: left content area with right-side image gallery{% endcomment %}
<link href="{{ 'section-showroom-showcase.css' | asset_url }}" rel="stylesheet" />
<div class="showroom-showcase-section" id="section-{{ section.id }}">
  <div class="ss-container">
    <div class="ss-left">
      {% if section.settings.label != blank %}
        <p class="ss-label">{{ section.settings.label }}</p>
      {% endif %}
      {% if section.settings.heading != blank %}
        <h2 class="ss-heading">{{ section.settings.heading }}</h2>
      {% endif %}
      {% if section.settings.description != blank %}
        <div class="ss-description">{{ section.settings.description }}</div>
      {% endif %}
      {% if section.settings.button_text != blank %}
        <a href="{{ section.settings.button_link | default: '#' }}" class="ss-button">
          {{ section.settings.button_text }}
        </a>
      {% endif %}
    </div>

    <div class="ss-right">
      <div class="ss-main-image-wrap">
        {% if section.blocks.size > 0 %}
          {% for block in section.blocks %}
            <div class="ss-main-image{% if forloop.first %} active{% endif %}" data-index="{{ forloop.index0 }}">
              {% if block.settings.image != blank %}
                <img src="{{ block.settings.image | img_url: '1200x800', crop: 'center' }}" alt="{{ block.settings.alt_text | default: section.settings.heading }}" loading="lazy" />
              {% else %}
                <div class="ss-placeholder">{{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}</div>
              {% endif %}
            </div>
          {% endfor %}
        {% endif %}
      </div>

      <div class="ss-thumbnails-section">
        <div class="ss-thumbnails-wrap">
          <div class="ss-thumbnails">
            {% for block in section.blocks %}
              <button type="button" class="ss-thumbnail{% if forloop.first %} active{% endif %}" data-index="{{ forloop.index0 }}" aria-label="View image {{ forloop.index }}">
                {% if block.settings.image != blank %}
                  <img src="{{ block.settings.image | img_url: '200x200', crop: 'center' }}" alt="{{ block.settings.alt_text | default: 'Thumbnail' }}" />
                {% else %}
                  <div class="ss-thumb-placeholder">{{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}</div>
                {% endif %}
              </button>
            {% endfor %}
          </div>
        </div>
        {% if section.blocks.size > 1 %}
          <div class="ss-pagination">
            <!-- Pagination dots generated by JS -->
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

<script>
  window.showroomShowcaseData = {
    sectionId: '{{ section.id }}',
    imageCount: {{ section.blocks.size }},
    thumbnailsPerPage: 4
  };
</script>

<script src="{{ 'section-showroom-showcase.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "Showroom Showcase",
  "settings": [
    {
      "type": "text",
      "id": "label",
      "label": "Label",
      "default": "SHOWROOM"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "EXPLORE OUR SHOWROOM"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Sculpted to catch the light and the imagination, Prismatica redefines the luxury experience.</p>"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "BOOK AN APPOINTMENT"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "alt_text",
          "label": "Alt text"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Showroom Showcase"
    }
  ]
}
{% endschema %}
